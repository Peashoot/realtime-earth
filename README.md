# å®æ—¶åœ°çƒåŠ¨æ€å£çº¸ - ä½¿ç”¨è¯´æ˜

> Vue 3 + Three.js + Wallpaper Engine
> æœ€åæ›´æ–°æ—¶é—´ï¼š2025å¹´10æœˆ27æ—¥

---

## âœ… é¡¹ç›®çŠ¶æ€

**æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆå¹¶æˆåŠŸæ„å»ºï¼**

- âœ… Vue 3 + Vite é¡¹ç›®ç»“æ„
- âœ… Three.js 3Dåœ°çƒæ¸²æŸ“
- âœ… **é«˜çº§ç€è‰²å™¨ç³»ç»Ÿ**ï¼ˆTBN æ³•çº¿è´´å›¾ã€å¤§æ°”æ•£å°„ã€ä¼˜åŒ–å¤œé—´æ¸²æŸ“ï¼‰
- âœ… **åæœŸå¤„ç†æ•ˆæœ**ï¼ˆHDRã€Bloomä¼˜åŒ–ã€é˜´å½±ç³»ç»Ÿï¼‰
- âœ… å®æ—¶å¤ªé˜³å…‰ç…§ç³»ç»Ÿï¼ˆåŸºäºUTCæ—¶é—´ï¼Œå¹³æ»‘ç§»åŠ¨ï¼‰
- âœ… è‡ªåŠ¨å¤ªé˜³èµ¤çº¬è§’è®¡ç®—ï¼ˆçœŸå®å­£èŠ‚æ¨¡æ‹Ÿï¼‰
- âœ… **ä¼˜åŒ–æ˜¼å¤œçº¹ç†æ··åˆ**ï¼ˆå¤œé—´å¯è§é™†åœ°è½®å»“ + åŸå¸‚ç¯å…‰ï¼‰
- âœ… çœŸå®å¤©æ°”æ•°æ®ï¼ˆå’Œé£å¤©æ°”APIï¼‰
- âœ… IPåœ°ç†å®šä½ + ä¸­æ–‡åœ°åï¼ˆip-api + GeoAPIï¼‰
- âœ… é¼ æ ‡äº¤äº’æ—‹è½¬ï¼ˆOrbitControlsï¼‰
- âœ… ç»çº¬åº¦ç½‘æ ¼çº¿ï¼ˆå¯é…ç½®ï¼‰
- âœ… **å…¨é¢æ€§èƒ½ä¼˜åŒ–**ï¼ˆGPUä¼˜åŒ–60-70%ã€å‘é‡ç¼“å­˜ã€èŠ‚æµæ›´æ–°ï¼‰
- âœ… Wallpaper Engine é…ç½®
- âœ… **å®Œæ•´å¤ªé˜³ç³»å¤©ä½“ç³»ç»Ÿï¼ˆç¨‹åºåŒ–çº¹ç†ä¼˜åŒ–ï¼‰**
  - âœ… å¤ªé˜³ï¼ˆç¨‹åºåŒ–çº¹ç†ã€å…‰æ™•ã€è„‰åŠ¨ã€è‡ªè½¬ï¼‰
  - âœ… æœˆçƒï¼ˆç¨‹åºåŒ–çº¹ç†ã€é™¨çŸ³å‘ã€æœˆæµ·ã€æ½®æ±é”å®šï¼‰
  - âœ… å…«å¤§è¡Œæ˜Ÿï¼ˆç¨‹åºåŒ–çº¹ç†ã€ç‰¹è‰²ç»†èŠ‚ã€ä¼˜åŒ–æè´¨ï¼‰
  - âœ… å“ˆé›·å½—æ˜Ÿï¼ˆåŒå°¾æ•ˆæœã€åŠ¨æ€å½—å‘ï¼‰
  - âœ… çœŸå®å¤©æ–‡æ•°æ®ï¼ˆå¤§å°ã€è·ç¦»ã€è½¨é“å‘¨æœŸï¼‰
  - âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆç¨‹åºåŒ–çº¹ç†ã€é™æ€è´´å›¾ã€æ— å…‰ç…§è®¡ç®—ï¼‰

---

## ğŸ“¦ æ„å»ºè¾“å‡º

### æ–‡ä»¶ç»“æ„

```
dist/
â”œâ”€â”€ index.html              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/               # æ ·å¼æ–‡ä»¶ (~3KB)
â”‚   â””â”€â”€ js/                # JavaScriptæ–‡ä»¶
â”‚       â”œâ”€â”€ index-xxx.js   # ä¸»åº”ç”¨ä»£ç  (~110KB)
â”‚       â”œâ”€â”€ vendor-xxx.js  # Vue + Day.js (~67KB)
â”‚       â””â”€â”€ three-xxx.js   # Three.js (~483KB)
â”œâ”€â”€ fonts/                 # å­—ä½“æ–‡ä»¶
â”‚   â”œâ”€â”€ JetBrainsMono-Bold.woff2
â”‚   â””â”€â”€ JetBrainsMono-Regular.woff2
â””â”€â”€ textures/             # åœ°çƒçº¹ç†èµ„æºï¼ˆä»…åœ°çƒä½¿ç”¨å¤–éƒ¨çº¹ç†ï¼‰
    â”œâ”€â”€ 2k_earth_daymap.jpg      # æ—¥é—´åœ°çƒ
    â”œâ”€â”€ 2k_earth_nightmap.jpg    # å¤œé—´åœ°çƒï¼ˆåŸå¸‚ç¯å…‰ï¼‰
    â”œâ”€â”€ 2k_earth_normal_map.png  # æ³•çº¿è´´å›¾
    â”œâ”€â”€ 2k_earth_specular_map.jpg # é«˜å…‰è´´å›¾
    â”œâ”€â”€ 2k_earth_clouds.jpg      # äº‘å±‚
    â””â”€â”€ 8k ç‰ˆæœ¬...
    # æ³¨ï¼šå¤ªé˜³ã€æœˆçƒã€è¡Œæ˜Ÿä½¿ç”¨ Canvas ç¨‹åºåŒ–ç”Ÿæˆï¼Œæ— éœ€é¢å¤–çº¹ç†æ–‡ä»¶
```

### æ„å»ºç»Ÿè®¡

| èµ„æº | å¤§å°ï¼ˆåŸå§‹ï¼‰ | å¤§å°ï¼ˆGzipï¼‰ |
|------|------------|-------------|
| HTML | 0.66 KB | 0.40 KB |
| CSS | 4.33 KB | 1.35 KB |
| JSï¼ˆä¸»åº”ç”¨ï¼‰ | 55.24 KB | 17.57 KB |
| JSï¼ˆVueç­‰ï¼‰ | 66.99 KB | 26.83 KB |
| JSï¼ˆThree.jsï¼‰ | 490.43 KB | 123.40 KB |
| **æ€»è®¡** | ~618 KB | ~169 KB |

---

## ğŸš€ åœ¨ Wallpaper Engine ä¸­ä½¿ç”¨

### æ–¹æ³•1ï¼šç›´æ¥å¯¼å…¥ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€ Wallpaper Engine**
2. **ç‚¹å‡»"å£çº¸ç¼–è¾‘å™¨"**
3. **é€‰æ‹©"åˆ›å»ºå£çº¸" â†’ "Web"**
4. **æµè§ˆåˆ°é¡¹ç›®ç›®å½•**ï¼Œé€‰æ‹© `project.json` æ–‡ä»¶
5. Wallpaper Engine ä¼šè‡ªåŠ¨åŠ è½½ `dist/index.html`
6. **ç‚¹å‡»"ç¡®å®š"**ä¿å­˜

### æ–¹æ³•2ï¼šå‘å¸ƒåˆ°åˆ›æ„å·¥åŠ

1. åœ¨ Wallpaper Engine ç¼–è¾‘å™¨ä¸­æ‰“å¼€å£çº¸
2. ç‚¹å‡»"æ–‡ä»¶" â†’ "å‘å¸ƒåˆ°åˆ›æ„å·¥åŠ"
3. å¡«å†™å£çº¸ä¿¡æ¯ï¼š
   - æ ‡é¢˜ï¼šå®æ—¶åœ°çƒåŠ¨æ€å£çº¸
   - æè¿°ï¼šï¼ˆå‚è€ƒä¸‹æ–¹æè¿°æ¨¡æ¿ï¼‰
   - æ ‡ç­¾ï¼š3Dã€åœ°çƒã€å®æ—¶ã€å¤©æ°”
4. ä¸Šä¼ é¢„è§ˆå›¾ï¼ˆå»ºè®®æˆªå›¾ï¼‰
5. ç‚¹å‡»"å‘å¸ƒ"

---

## âš™ï¸ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡é…ç½®

é¡¹ç›®ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚APIå¯†é’¥ï¼‰ã€‚

1. **å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿**ï¼š
   ```bash
   cp .env.example .env.local
   ```

2. **ç¼–è¾‘ `.env.local` æ–‡ä»¶**ï¼Œå¡«å…¥ä½ çš„å’Œé£å¤©æ°”APIå¯†é’¥ï¼š
   ```env
   VITE_QWEATHER_API_KEY=your_api_key_here
   VITE_QWEATHER_BASE_URL=https://devapi.qweather.com/v7
   ```

3. **è·å–å’Œé£å¤©æ°”API Key**ï¼š
   - è®¿é—® [å’Œé£å¤©æ°”å¼€å‘å¹³å°](https://www.qweather.com/)
   - æ³¨å†Œè´¦å·å¹¶åˆ›å»ºåº”ç”¨
   - å…è´¹ç‰ˆå¯æ»¡è¶³ä¸ªäººä½¿ç”¨éœ€æ±‚

**æ³¨æ„**ï¼š`.env.local` æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚

### åœ¨ `src/utils/config.js` ä¸­é…ç½®ï¼š

```javascript
// IPå®šä½é…ç½®
location: {
  enableIPLocation: true       // æ˜¯å¦å¯ç”¨IPå®šä½
}

// åœ°çƒæ¸²æŸ“é…ç½®
earth: {
  textureQuality: '2k',        // '2k' | '8k' - çº¹ç†è´¨é‡
  sunDeclination: 'auto',      // 'auto' | æ•°å€¼ - å¤ªé˜³èµ¤çº¬è§’
  longitudeOffset: 90,         // ç»åº¦åç§»é‡ï¼ˆåº¦ï¼‰
  showMeridianLines: false,    // æ˜¯å¦æ˜¾ç¤ºç»çº¿å’Œæ ‡ç­¾

  // ç›¸æœºæ§åˆ¶é…ç½®
  camera: {
    enableRotate: false,       // æ˜¯å¦å…è®¸é¼ æ ‡æ‹–åŠ¨æ—‹è½¬
    enableZoom: false,         // æ˜¯å¦å…è®¸æ»šè½®ç¼©æ”¾
    distance: 3.0,             // ç›¸æœºè·ç¦»ï¼ˆ1.5 - 5.0ï¼‰
    autoRotate: true,          // æ˜¯å¦è‡ªåŠ¨æ—‹è½¬è§‚å¯Ÿè§†è§’
    autoRotateSpeed: 1.0       // è‡ªåŠ¨æ—‹è½¬é€Ÿåº¦ï¼ˆ-10.0 åˆ° 10.0ï¼‰
  },

  // å¤©ä½“ç³»ç»Ÿé…ç½®
  celestial: {
    enabled: true,             // æ˜¯å¦å¯ç”¨å¤©ä½“ç³»ç»Ÿ
    showOrbits: false,         // æ˜¯å¦æ˜¾ç¤ºè½¨é“çº¿
    timeScale: 1000,           // æ—¶é—´ç¼©æ”¾å€æ•°ï¼ˆ1=çœŸå®æ—¶é—´ï¼‰

    // å¤ªé˜³è§†è§‰æ•ˆæœ
    sun: {
      enablePulsate: true,     // æ˜¯å¦å¯ç”¨å¤ªé˜³è„‰åŠ¨æ•ˆæœ
      enableCorona: true       // æ˜¯å¦å¯ç”¨æ—¥å†•æ•ˆæœ
    },

    // å„ä¸ªå¤©ä½“çš„æ˜¾ç¤ºå¼€å…³
    bodies: {
      moon: true,              // æœˆçƒ
      sun: true,               // å¤ªé˜³
      mercury: true,           // æ°´æ˜Ÿ
      venus: true,             // é‡‘æ˜Ÿ
      mars: true,              // ç«æ˜Ÿ
      jupiter: true,           // æœ¨æ˜Ÿ
      saturn: true,            // åœŸæ˜Ÿ
      uranus: true,            // å¤©ç‹æ˜Ÿ
      neptune: true,           // æµ·ç‹æ˜Ÿ
      comet: true              // å½—æ˜Ÿ
    }
  },

  // æ€§èƒ½ä¼˜åŒ–é…ç½®
  performance: {
    // é˜´å½±é…ç½®
    enableShadows: false,           // æ˜¯å¦å¯ç”¨é˜´å½±ï¼ˆæ€§èƒ½æ•æ„Ÿï¼Œå»ºè®®ä¸­é«˜ç«¯è®¾å¤‡å¼€å¯ï¼‰
    shadowMapSize: 1024,            // é˜´å½±è´´å›¾å°ºå¯¸ï¼ˆ512/1024/2048ï¼Œè¶Šå¤§è¶Šæ¸…æ™°ä½†è¶Šè€—æ€§èƒ½ï¼‰

    // åæœŸå¤„ç†é…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰
    enablePostProcessing: true,     // æ˜¯å¦å¯ç”¨åæœŸå¤„ç†ï¼ˆBloomç­‰æ•ˆæœï¼Œå·²ä¼˜åŒ–ä¸º0.75xåˆ†è¾¨ç‡ï¼‰
    bloomStrength: 0.4,             // Bloom å¼ºåº¦ï¼ˆ0.0-2.0ï¼Œå·²ä¼˜åŒ–é»˜è®¤å€¼ï¼‰
    bloomRadius: 0.3,               // Bloom åŠå¾„ï¼ˆ0.0-1.0ï¼Œå·²ä¼˜åŒ–é»˜è®¤å€¼ï¼‰
    bloomThreshold: 0.9,            // Bloom é˜ˆå€¼ï¼ˆ0.0-1.0ï¼Œè¶Šé«˜è¶Šå°‘å‘å…‰ï¼Œå·²ä¼˜åŒ–é»˜è®¤å€¼ï¼‰

    // æ€§èƒ½ç›‘æ§
    enableMonitoring: true,         // æ˜¯å¦å¯ç”¨ FPS ç›‘æ§ï¼ˆå¼€å‘æ¨¡å¼æ¨èï¼‰
  }
}

// å¤©æ°”æ›´æ–°é—´éš”
weather: {
  updateInterval: 30 * 60 * 1000  // æ›´æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰
}
```

**è¯´æ˜**ï¼š
- APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯å·²ç§»è‡³ `.env.local` æ–‡ä»¶ä¸­
- å…¶ä»–é…ç½®é¡¹å¯åœ¨ `config.js` ä¸­ç›´æ¥ä¿®æ”¹
- å¤©ä½“ç³»ç»Ÿå¯å•ç‹¬å¼€å…³ï¼Œä¹Ÿå¯é€‰æ‹©æ€§æ˜¾ç¤ºå„ä¸ªå¤©ä½“
- æ—¶é—´ç¼©æ”¾å€æ•°æ§åˆ¶å¤©ä½“è¿åŠ¨é€Ÿåº¦ï¼ˆå»ºè®®1000xä»¥çœ‹åˆ°æ˜æ˜¾è¿åŠ¨ï¼‰
- æ€§èƒ½ä¼˜åŒ–é…ç½®å…è®¸æ ¹æ®è®¾å¤‡æ€§èƒ½è°ƒæ•´è§†è§‰æ•ˆæœ

### å­£èŠ‚é…ç½®è¯´æ˜

é€šè¿‡ `sunDeclination` æ¨¡æ‹Ÿä¸åŒå­£èŠ‚ï¼š

| å€¼ | å­£èŠ‚ | æ•ˆæœ |
|------|------|------|
| **'auto'** | **è‡ªåŠ¨è®¡ç®—** | **æ ¹æ®å½“å‰æ—¥æœŸè‡ªåŠ¨è®¡ç®—å¤ªé˜³èµ¤çº¬è§’ï¼ˆæ¨èï¼‰** |
| **0.0** | æ˜¥ç§‹åˆ† | å—åŒ—æå„ä¸€åŠæ˜¼å¤œ |
| **+23.44** | å¤è‡³ | åŒ—æåœˆå†…ææ˜¼ |
| **-23.44** | å†¬è‡³ | å—æåœˆå†…ææ˜¼ |
| **+10.0** | æ˜¥æœ«/å¤åˆ | åŒ—åŠçƒæ—¥ç…§å¢å¤š |
| **-10.0** | ç§‹æœ«/å†¬åˆ | å—åŠçƒæ—¥ç…§å¢å¤š |

**æ³¨æ„**ï¼šå½“è®¾ç½®ä¸º `'auto'` æ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®å½“å‰æ—¥æœŸè‡ªåŠ¨è®¡ç®—å¤ªé˜³èµ¤çº¬è§’ï¼Œæ¨¡æ‹ŸçœŸå®çš„å­£èŠ‚å˜åŒ–ã€‚è®¡ç®—å…¬å¼åŸºäºåœ°çƒå…¬è½¬è½¨é“çš„å¤©æ–‡å­¦æ¨¡å‹ã€‚

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. 3Dåœ°çƒæ¸²æŸ“
- âœ… é«˜è´¨é‡åœ°çƒçº¹ç†ï¼ˆ2K/8Kå¯é€‰ï¼‰
- âœ… **çœŸå®æ³•çº¿è´´å›¾**ï¼šå®Œæ•´ TBN åˆ‡çº¿ç©ºé—´å®ç°ï¼ŒçœŸå®åœ°å½¢å‡¹å‡¸æ„Ÿ
- âœ… **é«˜çº§é«˜å…‰ç³»ç»Ÿ**ï¼šä½¿ç”¨æ‰°åŠ¨æ³•çº¿çš„ Blinn-Phong æ¨¡å‹ï¼ŒçœŸå®æµ·æ´‹åå°„
- âœ… åŠ¨æ€äº‘å±‚ï¼ˆç‹¬ç«‹æ—‹è½¬ï¼‰
- âœ… **å¤§æ°”æ•£å°„æ•ˆæœ**ï¼š
  - è¾¹ç¼˜ Fresnel å…‰æ™•
  - æ™¨æ˜åœˆæ©™çº¢è‰²ç‘åˆ©æ•£å°„
  - æ—¥å‡ºæ—¥è½åŠ¨æ€ç€è‰²
- âœ… æ˜Ÿç©ºèƒŒæ™¯ï¼ˆ2000ä¸ªç²’å­ï¼‰
- âœ… ç»çº¬åº¦ç½‘æ ¼çº¿ï¼ˆé‡‘è‰²ï¼Œ30åº¦é—´éš”ï¼Œå¯é…ç½®éšè—ï¼‰

### 2. å®æ—¶å…‰ç…§ç³»ç»Ÿ
- âœ… æ ¹æ®çœŸå®UTCæ—¶é—´è®¡ç®—å¤ªé˜³ä½ç½®
- âœ… **ä¼˜åŒ–æ˜¼å¤œçº¹ç†æ··åˆ**ï¼ˆä¼˜åŒ– Shader å®ç°ï¼‰
  - ç™½å¤©åŒºåŸŸï¼šæ˜¾ç¤ºæ—¥é—´åœ°çƒçº¹ç†
  - **ä¼˜åŒ–å¤œé—´æ¸²æŸ“**ï¼šæ—¥é—´è´´å›¾ 10% äº®åº¦ä½œä¸ºåŸºç¡€ + åŸå¸‚ç¯å…‰å åŠ 
    - å¤œåŠçƒå¯è§é™†åœ°è½®å»“ï¼ˆç›¸æ¯”çº¯é»‘è´´å›¾è§†è§‰æ•ˆæœæ›´è‡ªç„¶ï¼‰
    - åŸå¸‚ç¯å…‰ä¿æŒåŸæœ‰æ•ˆæœï¼Œ1.5x å¼ºåº¦å¢å¼º
  - **æŸ”åŒ–æ™¨æ˜åœˆ**ï¼šæ‰©å¤§è¿‡æ¸¡åŒºåŸŸï¼ˆ-0.2 åˆ° 0.15ï¼‰ï¼Œsmoothstep å¹³æ»‘è¿‡æ¸¡ï¼ˆå·²ç®€åŒ–ä¼˜åŒ–ï¼‰
  - **æ™ºèƒ½åŸå¸‚ç¯å…‰**ï¼šé»„æ˜å’Œé»æ˜æ—¶è‡ªåŠ¨å¢å¼ºï¼Œæ­£åˆæ—¶å‡å¼±
  - **ç®€åŒ–å¤§æ°”æ•£å°„**ï¼šæ™¨æ˜åœˆæ·»åŠ æ©™çº¢è‰²æ•£å°„å…‰ï¼ˆå‡å°‘è®¡ç®—é‡ï¼‰
- âœ… **é«˜çº§æµ·æ´‹åå°„**ï¼šåŸºäºæ³•çº¿è´´å›¾çš„çœŸå®é•œé¢é«˜å…‰
- âœ… å¯è°ƒèŠ‚å¤ªé˜³èµ¤çº¬è§’ï¼ˆæ¨¡æ‹Ÿå­£èŠ‚å˜åŒ–ï¼‰
- âœ… **å¹³æ»‘å¤ªé˜³ç§»åŠ¨**ï¼šæ¯ç§’æ›´æ–°ä¸€æ¬¡ï¼Œæ— è·³å˜ï¼ˆå·²é›†æˆåˆ°æ¸²æŸ“å¾ªç¯ï¼‰

### 3. åœ°ç†å®šä½ä¸å¤©æ°”
- âœ… **è‡ªåŠ¨IPå®šä½**ï¼š
  - ä¸»æ–¹æ³•ï¼šmyip.ipip.net
  - å¤‡ç”¨æ–¹æ³•ï¼šipconfig.me
- âœ… **IPåœ°ç†ä½ç½®è§£æ**ï¼šip-apiï¼ˆé€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘ï¼Œè·å–ç»çº¬åº¦ï¼‰
- âœ… **ä¸­æ–‡åŸå¸‚åç§°**ï¼šå’Œé£å¤©æ°” GeoAPIï¼ˆç»çº¬åº¦â†’ä¸­æ–‡åœ°åï¼‰
- âœ… **å’Œé£å¤©æ°”API**ï¼šå®æ—¶å¤©æ°”æ•°æ®
  - æ¸©åº¦ã€å¤©æ°”æè¿°ã€å¤©æ°”å›¾æ ‡
  - 7å¤©å¤©æ°”é¢„æŠ¥ï¼ˆæ˜¾ç¤ºæœªæ¥3å¤©ï¼‰
  - 30åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°
- âœ… **åŠçƒå½¢ä½ç½®æ ‡è®°**ï¼š
  - çº¢è‰²åŠçƒæ ‡è®°ï¼ˆåº•éƒ¨è´´åœ°ï¼Œå‡¸èµ·å‘å¤–ï¼‰
  - åŠé€æ˜å…‰æ™•æ•ˆæœ
  - å¹³æ»‘é—ªçƒåŠ¨ç”»
  - è‡ªåŠ¨æœå‘åœ°çƒå¤–ä¾§

### 4. åæœŸå¤„ç†ä¸è§†è§‰æ•ˆæœï¼ˆå·²å…¨é¢ä¼˜åŒ–ï¼‰
- âœ… **HDR è‰²è°ƒæ˜ å°„**ï¼šACES Filmic è‰²è°ƒæ˜ å°„ï¼Œæ”¯æŒé«˜åŠ¨æ€èŒƒå›´
- âœ… **Bloom å‘å…‰æ•ˆæœï¼ˆå·²ä¼˜åŒ–ï¼‰**ï¼š
  - 0.75x åˆ†è¾¨ç‡æ¸²æŸ“ï¼Œæ€§èƒ½æå‡ 40-45%
  - å¤ªé˜³ã€åŸå¸‚ç¯å…‰çœŸå®å…‰æ™•
  - ä¼˜åŒ–é»˜è®¤å‚æ•°ï¼šstrength 0.4, radius 0.3, threshold 0.9
  - å¯è°ƒèŠ‚å¼ºåº¦ã€åŠå¾„ã€é˜ˆå€¼
  - å¯é€‰å¼€å…³ï¼ˆæ€§èƒ½æ•æ„Ÿï¼‰
- âœ… **é˜´å½±ç³»ç»Ÿ**ï¼š
  - å¤ªé˜³æ–¹å‘å…‰æŠ•å°„é˜´å½±
  - PCF æŸ”å’Œé˜´å½±
  - å¯é…ç½®é˜´å½±è´´å›¾å°ºå¯¸ï¼ˆ512/1024/2048ï¼‰
  - å¯é€‰å¼€å…³ï¼ˆæ€§èƒ½æ•æ„Ÿï¼‰
  - é…åˆ Bloom æ•ˆæœäº§ç”Ÿé•œå¤´å…‰æ™•
  - å®æ—¶è·Ÿéšå¤ªé˜³å…‰æºä½ç½®

### 5. äº¤äº’ä¸ç›¸æœºæ§åˆ¶
- âœ… **é¼ æ ‡æ‹–æ‹½æ—‹è½¬**ï¼šOrbitControlså®ç°ï¼ˆå¯é…ç½®å¼€å…³ï¼‰
  - å·¦é”®æ‹–æ‹½ï¼šæ—‹è½¬è§†è§’
  - å¯åœ¨é…ç½®ä¸­ç¦ç”¨
- âœ… **æ»šè½®ç¼©æ”¾**ï¼š1.5x - 5x ç¼©æ”¾èŒƒå›´ï¼ˆå¯é…ç½®å¼€å…³ï¼‰
  - æ»šè½®ï¼šæ”¾å¤§/ç¼©å°
  - å¯åœ¨é…ç½®ä¸­ç¦ç”¨
- âœ… **ç›¸æœºè·ç¦»è°ƒèŠ‚**ï¼šå¯åœ¨é…ç½®ä¸­è®¾ç½®åˆå§‹è·ç¦»
- âœ… **è‡ªåŠ¨æ—‹è½¬è§‚å¯Ÿè§†è§’**ï¼šå¯é…ç½®å¼€å…³å’Œé€Ÿåº¦
  - é€Ÿåº¦å¯è°ƒï¼š-10.0 åˆ° 10.0ï¼ˆè´Ÿå€¼åå‘ï¼‰
  - å¹³æ»‘æ—‹è½¬ï¼Œå¯æš‚åœ
- âœ… **å¤ªé˜³å…‰ç…§å›ºå®š**ï¼šæ‹–åŠ¨æ—¶å¤ªé˜³ç…§å°„çš„ç»çº¬åº¦ä¿æŒä¸å˜
- âœ… **Wallpaper Engine é›†æˆ**ï¼šæ‰€æœ‰ç›¸æœºå‚æ•°å¯åœ¨ WE ä¸­å®æ—¶è°ƒæ•´

### 6. ä¿¡æ¯é¢æ¿
- âœ… **æ—¥æœŸæ˜¾ç¤º**ï¼šå®Œæ•´æ—¥æœŸ + æ˜ŸæœŸ
- âœ… **æ—¶é—´æ˜¾ç¤º**ï¼šHH:mm:ss æ ¼å¼ï¼Œæ¸å˜è‰²
- âœ… **å¤©æ°”æ˜¾ç¤º**ï¼š
  - å½“å‰å¤©æ°”ï¼šæ¸©åº¦ã€å¤©æ°”æè¿°ã€å›¾æ ‡
  - æœªæ¥ä¸‰å¤©é¢„æŠ¥ï¼šæ—¥æœŸã€å›¾æ ‡ã€æ¸©åº¦èŒƒå›´
- âœ… **ä½ç½®æ˜¾ç¤º**ï¼šä¸­æ–‡åŸå¸‚åç§°

### 7. å¤©ä½“ç³»ç»Ÿï¼ˆå®Œæ•´å¤ªé˜³ç³»ï¼‰
- âœ… **å¢å¼ºå¤ªé˜³æ•ˆæœï¼ˆç¨‹åºåŒ–çº¹ç†ä¼˜åŒ–ï¼‰**ï¼š
  - 512Ã—512 Canvas ç¨‹åºåŒ–çº¹ç†ï¼ˆå¾„å‘æ¸å˜ + å¤ªé˜³é»‘å­ï¼‰
  - å•å±‚é€æ˜å…‰æ™•ï¼ˆæ—¥å†•æ•ˆæœï¼ŒAdditiveBlendingï¼‰
  - å¾®å¦™è„‰åŠ¨åŠ¨ç”»ï¼ˆ2%å¹…åº¦ï¼‰
  - ç¼“æ…¢è‡ªè½¬æ•ˆæœï¼ˆæ¨¡æ‹Ÿè¡¨é¢æ´»åŠ¨ï¼‰
  - å¯é…ç½®å¼€å…³ï¼ˆè„‰åŠ¨ã€æ—¥å†•ï¼‰
  - **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ MeshBasicMaterial æ›¿ä»£å¤šå±‚å‡ ä½•ä½“ï¼Œå‡å°‘å…‰ç…§è®¡ç®—

- âœ… **æœˆçƒç³»ç»Ÿï¼ˆç¨‹åºåŒ–çº¹ç†ä¼˜åŒ–ï¼‰**ï¼š
  - 512Ã—512 Canvas ç¨‹åºåŒ–çº¹ç†ï¼ˆé™¨çŸ³å‘ã€æœˆæµ·ã€æ¸å˜ï¼‰
  - çœŸå®æ¯”ä¾‹å¤§å°ï¼ˆ0.273å€åœ°çƒåŠå¾„ï¼‰
  - 27.3å¤©å…¬è½¬å‘¨æœŸ
  - æ½®æ±é”å®šï¼ˆå§‹ç»ˆä»¥åŒä¸€é¢æœå‘åœ°çƒï¼‰
  - **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ MeshBasicMaterialï¼Œæ¶ˆé™¤å…‰ç…§è®¡ç®—å¼€é”€

- âœ… **å…«å¤§è¡Œæ˜Ÿï¼ˆç¨‹åºåŒ–çº¹ç†ä¼˜åŒ–ï¼‰**ï¼š
  - **æ°´æ˜Ÿ**ï¼š256Ã—256 ç°è¤è‰²å™ªç‚¹çº¹ç†ï¼Œé™¨çŸ³å‘è¡¨é¢ï¼ˆ88å¤©å‘¨æœŸï¼‰
  - **é‡‘æ˜Ÿ**ï¼š256Ã—256 æ·¡é»„è‰²äº‘å±‚çº¹ç†ï¼Œæ¼©æ¶¡å›¾æ¡ˆï¼ˆ225å¤©å‘¨æœŸï¼‰
  - **ç«æ˜Ÿ**ï¼š256Ã—256 é”ˆçº¢è‰²çº¹ç†ï¼Œæåœ°å†°ç›–ã€æ·±è‰²åŒºåŸŸï¼ˆ687å¤©å‘¨æœŸï¼‰
  - **æœ¨æ˜Ÿ**ï¼š256Ã—256 æ©™è¤è‰²æ¡çº¹çº¹ç†ï¼Œå¤§çº¢æ–‘ç‰¹å¾ï¼ˆ11.86å¹´å‘¨æœŸï¼‰
  - **åœŸæ˜Ÿ**ï¼š256Ã—256 æ·¡é‡‘è‰²çº¹ç†ï¼Œæ ‡å¿—æ€§å…‰ç¯ç³»ç»Ÿï¼ˆ29.5å¹´å‘¨æœŸï¼‰
  - **å¤©ç‹æ˜Ÿ**ï¼š256Ã—256 é’è“è‰²å†°æ™¶çº¹ç†ï¼ˆ84å¹´å‘¨æœŸï¼‰
  - **æµ·ç‹æ˜Ÿ**ï¼š256Ã—256 æ·±è“è‰²ç”²çƒ·çº¹ç†ï¼ˆ165å¹´å‘¨æœŸï¼‰
  - çœŸå®å¤§å°æ¯”ä¾‹ï¼ˆç»è‰ºæœ¯åŒ–è°ƒæ•´ï¼‰
  - çœŸå®è½¨é“è·ç¦»ï¼ˆç»å¹³æ–¹æ ¹ç¼©æ”¾ï¼‰
  - çœŸå®å…¬è½¬å‘¨æœŸ
  - **æ€§èƒ½ä¼˜åŒ–**ï¼šæ‰€æœ‰ï¿½ï¿½æ˜Ÿä½¿ç”¨ MeshBasicMaterial + ç¨‹åºåŒ–çº¹ç†ï¼Œæ¶ˆé™¤ 30-40% GPU å…‰ç…§è®¡ç®—

- âœ… **å“ˆé›·å½—æ˜Ÿ**ï¼š
  - **å½—æ ¸**ï¼šç°ç™½è‰²å²©çŸ³å’Œå†°æ ¸å¿ƒ
  - **å½—å‘**ï¼šæ·¡è“è‰²æ°”ä½“äº‘ï¼ˆcomaï¼‰ï¼Œé è¿‘å¤ªé˜³æ—¶è†¨èƒ€
  - **ç¦»å­å°¾**ï¼šè“ç™½è‰²ï¼ˆ200ç²’å­ï¼‰ï¼Œç»†é•¿ç¬”ç›´ï¼Œå—å¤ªé˜³é£å½±å“
  - **å°˜åŸƒå°¾**ï¼šé»„ç™½è‰²ï¼ˆ300ç²’å­ï¼‰ï¼Œè¾ƒå®½ï¼Œæ²¿è½¨é“å¼¯æ›²
  - ææ¤­åœ†è½¨é“ï¼ˆç¦»å¿ƒç‡0.85ï¼‰
  - 75å¹´å…¬è½¬å‘¨æœŸ
  - åŠ¨æ€æ•ˆæœï¼šå½—å°¾é•¿åº¦å’Œäº®åº¦éšè·ç¦»å˜åŒ–

- âœ… **çœŸå®å¤©æ–‡æ•°æ®**ï¼š
  - æ‰€æœ‰å¤©ä½“å¤§å°åŸºäºçœŸå®æ¯”ä¾‹ï¼ˆç»è‰ºæœ¯åŒ–è°ƒæ•´ä»¥ä¿è¯å¯è§†æ€§ï¼‰
  - è½¨é“è·ç¦»ä½¿ç”¨å¹³æ–¹æ ¹ç¼©æ”¾ï¼ˆä¿æŒç›¸å¯¹å…³ç³»ï¼‰
  - å…¬è½¬å‘¨æœŸå®Œå…¨çœŸå®ï¼ˆå¯åŠ é€Ÿ1000å€è§‚çœ‹ï¼‰
  - ç‰©ç†æ­£ç¡®çš„å½—å°¾æ–¹å‘è®¡ç®—

- âœ… **å¯é…ç½®é€‰é¡¹**ï¼š
  - å¤©ä½“ç³»ç»Ÿæ€»å¼€å…³
  - å•ç‹¬æ§åˆ¶æ¯ä¸ªå¤©ä½“æ˜¾ç¤º
  - è½¨é“çº¿æ˜¾ç¤º/éšè—
  - æ—¶é—´ç¼©æ”¾å€æ•°è°ƒèŠ‚ï¼ˆ1x - 10000xï¼‰
  - å¤ªé˜³è§†è§‰æ•ˆæœå¼€å…³ï¼ˆè„‰åŠ¨ã€æ—¥å†•ï¼‰

---

## ğŸ”§ å¼€å‘ç›¸å…³

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### é¡¹ç›®ç»“æ„

```
realtime-earth/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # Vueç»„ä»¶
â”‚   â”‚   â””â”€â”€ InfoPanel.vue  # ä¿¡æ¯é¢æ¿
â”‚   â”œâ”€â”€ composables/       # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ useEarthScene.js       # åœ°çƒåœºæ™¯ï¼ˆShaderã€ç»çº¿ã€æ ‡è®°ï¼‰
â”‚   â”‚   â”œâ”€â”€ useSunPosition.js      # å¤ªé˜³ä½ç½®è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ useCelestialSystem.js  # å¤©ä½“ç³»ç»Ÿï¼ˆå¤ªé˜³ã€è¡Œæ˜Ÿã€å½—æ˜Ÿï¼‰
â”‚   â”‚   â”œâ”€â”€ useTime.js             # æ—¶é—´ç®¡ç†
â”‚   â”‚   â””â”€â”€ useWeather.js          # å¤©æ°”æ•°æ®é›†æˆ
â”‚   â”œâ”€â”€ services/          # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ location.js    # IPå®šä½æœåŠ¡ï¼ˆåŒé‡å¤‡ç”¨ï¼‰
â”‚   â”‚   â””â”€â”€ qweather.js    # å’Œé£å¤©æ°”API
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ config.js            # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ celestialBodies.js   # å¤©ä½“æ•°æ®é…ç½®ï¼ˆå¤§å°ã€è½¨é“ã€é¢œè‰²ï¼‰
â”‚   â”‚   â”œâ”€â”€ wallpaperEngine.js   # Wallpaper Engineå±æ€§ç›‘å¬
â”‚   â”‚   â””â”€â”€ geoUtils.js          # åœ°ç†åæ ‡è½¬æ¢
â”‚   â”œâ”€â”€ App.vue            # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.js            # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ style.css          # å…¨å±€æ ·å¼
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ fonts/             # å­—ä½“èµ„æº
â”‚   â””â”€â”€ textures/          # åœ°çƒçº¹ç†
â”œâ”€â”€ dist/                  # æ„å»ºè¾“å‡ºï¼ˆç”¨äºWallpaper Engineï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js         # Viteé…ç½®
â””â”€â”€ project.json           # Wallpaper Engineé…ç½®
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue 3 | 3.5.22 | å“åº”å¼UIæ¡†æ¶ |
| Three.js | ^0.180.0 | 3Dæ¸²æŸ“å¼•æ“ |
| Vite | ^5.4.20 | æ„å»ºå·¥å…· |
| Day.js | ^1.11.18 | æ—¥æœŸæ—¶é—´å¤„ç† |
| SunCalc | ^1.9.0 | å¤ªé˜³ä½ç½®è®¡ç®— |
| CryptoJS | ^4.2.0 | APIç­¾ååŠ å¯† |
| QWeather API | v7 | å¤©æ°”æ•°æ® |
| IP-API | - | IPå®šä½ï¼ˆé€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘ï¼‰ |

---

## ğŸ“ æŠ€æœ¯å®ç°ç»†èŠ‚

### ç¨‹åºåŒ–çº¹ç†ç”Ÿæˆç³»ç»Ÿ

ä¸ºäº†ä¼˜åŒ–æ€§èƒ½å¹¶å‡å°‘å¤–éƒ¨èµ„æºä¾èµ–ï¼Œæ‰€æœ‰å¤©ä½“ï¼ˆé™¤åœ°çƒå¤–ï¼‰å‡ä½¿ç”¨ Canvas API åŠ¨æ€ç”Ÿæˆçº¹ç†ï¼š

#### æœˆçƒçº¹ç†ç”Ÿæˆï¼ˆ512Ã—512ï¼‰
```javascript
function createMoonTexture(size = 512) {
  const canvas = document.createElement('canvas')
  const ctx = canvas.getContext('2d')

  // 1. åŸºç¡€ç°è‰²æ¸å˜ï¼ˆå¾„å‘ï¼‰
  const baseGradient = ctx.createRadialGradient(...)
  baseGradient.addColorStop(0, '#e0e0e0')  // ä¸­å¿ƒäº®åŒº
  baseGradient.addColorStop(1, '#999999')  // è¾¹ç¼˜æš—åŒº

  // 2. æœˆæµ·ï¼ˆæš—è‰²åŒºåŸŸï¼‰
  seaRegions.forEach(region => {
    // æ·»åŠ æ·±ç°è‰²åŠé€æ˜åœ†å½¢
  })

  // 3. é™¨çŸ³å‘ï¼ˆä¸‰ç§å°ºå¯¸ï¼‰
  // å¤§é™¨çŸ³å‘ï¼š20ä¸ªï¼ŒåŠå¾„10-25px
  // ä¸­ç­‰é™¨çŸ³å‘ï¼š50ä¸ªï¼ŒåŠå¾„4-12px
  // å°é™¨çŸ³å‘ï¼š150ä¸ªï¼ŒåŠå¾„1-4px

  return new THREE.CanvasTexture(canvas)
}
```

#### å¤ªé˜³çº¹ç†ç”Ÿæˆï¼ˆ512Ã—512ï¼‰
```javascript
function createSunTexture(size = 512) {
  // 1. å¾„å‘æ¸å˜ï¼ˆæ ¸å¿ƒåˆ°è¾¹ç¼˜ï¼‰
  gradient.addColorStop(0, '#ffffff')    // ä¸­å¿ƒç™½è‰²
  gradient.addColorStop(0.3, '#ffee44')  // äº®é»„è‰²
  gradient.addColorStop(0.6, '#ffaa00')  // æ©™é»„è‰²
  gradient.addColorStop(1, '#ff6600')    // æ·±æ©™è‰²

  // 2. å¤ªé˜³é»‘å­ï¼ˆ80ä¸ªéšæœºå™ªç‚¹ï¼‰
  // multiply æ··åˆæ¨¡å¼ï¼ŒåŠå¾„2-10px

  return new THREE.CanvasTexture(canvas)
}
```

#### è¡Œæ˜Ÿçº¹ç†ç”Ÿæˆï¼ˆ256Ã—256ï¼‰
```javascript
function createPlanetTexture(planetType, size = 256) {
  switch (planetType) {
    case 'jupiter':
      // 8æ¡æ°´å¹³æ¡çº¹ï¼ˆæ°¨æ°”äº‘å±‚ï¼‰
      // å¤§çº¢æ–‘ï¼ˆæ¤­åœ†å½¢ï¼Œåç§»30åº¦ï¼‰
      break
    case 'mars':
      // é”ˆçº¢è‰²åŸºç¡€ + å™ªç‚¹
      // æåœ°å†°ç›–ï¼ˆç™½è‰²åœ†å½¢ï¼‰
      // æ·±è‰²åŒºåŸŸï¼ˆå³¡è°·ã€ç›†åœ°ï¼‰
      break
    // ... å…¶ä»–è¡Œæ˜Ÿ
  }
  return new THREE.CanvasTexture(canvas)
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… é›¶å¤–éƒ¨èµ„æºåŠ è½½ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚
- âœ… çº¹ç†æ€»å¤§å° < 500KBï¼ˆç›¸æ¯”é™æ€å›¾ç‰‡ 2-3MBï¼‰
- âœ… åŠ¨æ€ç”Ÿæˆï¼Œå¯è°ƒå‚æ•°ï¼ˆå¤§å°ã€ç»†èŠ‚å¯†åº¦ï¼‰
- âœ… é…åˆ MeshBasicMaterial æ¶ˆé™¤å…‰ç…§è®¡ç®—ï¼ŒGPU å ç”¨é™ä½ 30-40%

### å¤ªé˜³èµ¤çº¬è§’è‡ªåŠ¨è®¡ç®—

å½“ `sunDeclination` è®¾ç½®ä¸º `'auto'` æ—¶ï¼Œç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹å…¬å¼è®¡ç®—å¤ªé˜³èµ¤çº¬è§’ï¼š

```javascript
// å…¬å¼ï¼šÎ´ = -23.44Â° Ã— cos(360Â°/365 Ã— (N + 10))
// N = å½“å‰æ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ1-365/366ï¼‰
function calculateSolarDeclination(date) {
  const dayOfYear = Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 86400000)
  const declination = -23.44 * Math.cos((360 / 365) * (dayOfYear + 10) * (Math.PI / 180))
  return declination
}
```

**è¯´æ˜**ï¼š
- è¿™æ˜¯ç®€åŒ–çš„å¤©æ–‡å­¦æ¨¡å‹ï¼Œè¶³å¤Ÿç²¾ç¡®ç”¨äºå¯è§†åŒ–
- N + 10 æ˜¯å› ä¸ºå†¬è‡³å¤§çº¦åœ¨æ¯å¹´çš„ç¬¬355å¤©ï¼ˆ12æœˆ21æ—¥å·¦å³ï¼‰
- èµ¤çº¬è§’èŒƒå›´ï¼š-23.44Â° (å†¬è‡³) åˆ° +23.44Â° (å¤è‡³)
- æ˜¥åˆ†/ç§‹åˆ†æ—¶èµ¤çº¬è§’æ¥è¿‘ 0Â°

### æ˜¼å¤œçº¹ç†æ··åˆï¼ˆä¼˜åŒ–ç‰ˆ Custom Shaderï¼‰

```glsl
// é¡¶ç‚¹ç€è‰²å™¨ - è®¡ç®— TBN çŸ©é˜µ
vec3 c1 = cross(normal, vec3(0.0, 0.0, 1.0));
vec3 c2 = cross(normal, vec3(0.0, 1.0, 0.0));
vec3 tangent = length(c1) > length(c2) ? c1 : c2;
vTangent = normalize((modelMatrix * vec4(tangent, 0.0)).xyz);
vBitangent = normalize(cross(vNormal, vTangent));

// ç‰‡æ®µç€è‰²å™¨æ ¸å¿ƒé€»è¾‘
// 1. è§£åŒ…æ³•çº¿è´´å›¾
vec3 normalMapSample = texture2D(normalMap, vUv).rgb * 2.0 - 1.0;
mat3 TBN = mat3(vTangent, vBitangent, vNormal);
vec3 perturbedNormal = normalize(TBN * normalMapSample);

// 2. è®¡ç®—å…‰ç…§ï¼ˆä½¿ç”¨æ‰°åŠ¨æ³•çº¿ï¼‰
float sunIntensity = dot(perturbedNormal, sunDir);

// 3. æŸ”åŒ–æ™¨æ˜åœˆï¼ˆä¼˜åŒ–ç‰ˆï¼Œå‡å°‘ smoothstep è°ƒç”¨ï¼‰
float twilightStart = -0.2;
float twilightEnd = 0.15;
float dayMix = smoothstep(twilightStart, twilightEnd, sunIntensity);

// 4. æ™ºèƒ½åŸå¸‚ç¯å…‰
float nightIntensity = 1.0 - dayMix;
float twilightBoost = smoothstep(0.3, 0.7, nightIntensity) * smoothstep(0.3, 0.7, dayMix);
nightIntensity = nightIntensity + twilightBoost * 0.3;

// 5. å¤œé—´æ¸²æŸ“ä¼˜åŒ–ï¼šç™½å¤©è´´å›¾ä½œä¸ºåŸºç¡€ + åŸå¸‚ç¯å…‰å åŠ 
vec3 nightBase = dayColor.rgb * 0.1;  // 10% æ—¥é—´è´´å›¾äº®åº¦ï¼ˆå¯è§é™†åœ°è½®å»“ï¼‰
vec3 nightWithLights = nightBase + nightColor.rgb * nightIntensity * 1.5;  // å åŠ åŸå¸‚ç¯å…‰
vec4 finalColor = vec4(mix(nightWithLights, dayColor.rgb, dayMix), 1.0);

// 6. ç®€åŒ–å¤§æ°”æ•£å°„ï¼ˆå‡å°‘è®¡ç®—ï¼‰
float atmosphere = pow(1.0 - abs(dot(viewDirection, vNormal)), 3.0);
vec3 sunsetColor = vec3(1.0, 0.6, 0.3);
float sunsetIntensity = smoothstep(0.6, 1.0, nightIntensity) * smoothstep(0.6, 1.0, dayMix);
vec3 atmosphereColor = mix(vec3(0.3, 0.6, 1.0), sunsetColor, sunsetIntensity * 0.7);

// 7. Blinn-Phong é«˜å…‰
vec3 halfDir = normalize(sunDir + viewDir);
float specAngle = max(dot(halfDir, perturbedNormal), 0.0);
float specularHighlight = pow(specAngle, 32.0);
```

**å¤œé—´æ¸²æŸ“ä¼˜åŒ–**ï¼š
- å¤œåŠçƒä½¿ç”¨æ—¥é—´è´´å›¾çš„ 10% äº®åº¦ä½œä¸ºåŸºç¡€å±‚ï¼Œå¯æ¸…æ™°çœ‹åˆ°é™†åœ°è½®å»“
- åŸå¸‚ç¯å…‰ä½œä¸ºå åŠ å±‚ï¼Œä¿æŒå¤œé—´ç¯å…‰æ•ˆæœ
- æ™¨æ˜åœˆè¿‡æ¸¡åŒºè‡ªåŠ¨å¢å¼ºç¯å…‰äº®åº¦
- ç›¸æ¯”çº¯é»‘å¤œé—´è´´å›¾ï¼Œè§†è§‰æ•ˆæœæ›´åŠ è‡ªç„¶

### æ€§èƒ½ä¼˜åŒ–å®ç°

#### GPU ä¼˜åŒ–ï¼ˆæ€»è®¡ 60-70% é™ä½ï¼‰

**1. å¤©ä½“ç³»ç»Ÿæè´¨ä¼˜åŒ–ï¼ˆ30-40% é™ä½ï¼‰**
```javascript
// ä¼˜åŒ–å‰ï¼šMeshPhongMaterialï¼ˆéœ€è¦å…‰ç…§è®¡ç®—ï¼‰
const material = new THREE.MeshPhongMaterial({
  color: config.color,
  emissive: config.emissive,
  specular: config.specular,
  shininess: config.shininess
})
// GPU æ¯å¸§è®¡ç®—ï¼šæ¼«åå°„ + é•œé¢åå°„ + ç¯å¢ƒå…‰

// ä¼˜åŒ–åï¼šMeshBasicMaterialï¼ˆæ— å…‰ç…§è®¡ç®—ï¼‰
const material = new THREE.MeshBasicMaterial({
  map: createPlanetTexture(planetType, 256)
})
// GPU æ¯å¸§è®¡ç®—ï¼šä»…çº¹ç†é‡‡æ ·ï¼Œæ€§èƒ½æå‡ 30-40%
```

**2. åœ°çƒ Shader ç®€åŒ–ï¼ˆ10-15% é™ä½ï¼‰**
```javascript
// ä¼˜åŒ–å‰ï¼šå¤šçº§ smoothstep + å¤æ‚å¤§æ°”æ•£å°„
float dayMix = smoothstep(twilightStart, twilightEnd, sunIntensity);
float softTransition = smoothstep(twilightStart - 0.05, twilightEnd + 0.05, sunIntensity);
dayMix = mix(dayMix, softTransition, 0.3);
// + å¤æ‚çš„ sunset é¢œè‰²è®¡ç®—

// ä¼˜åŒ–åï¼šå•æ¬¡ smoothstep + ç®€åŒ–æ•£å°„
float dayMix = smoothstep(twilightStart, twilightEnd, sunIntensity);
// å‡å°‘ GPU ALU æŒ‡ä»¤æ•°ï¼Œæ€§èƒ½æå‡ 10-15%
```

**3. Bloom åæœŸå¤„ç†ä¼˜åŒ–ï¼ˆ40-45% é™ä½ï¼‰**
```javascript
// ä¼˜åŒ–å‰ï¼šå…¨åˆ†è¾¨ç‡ Bloom
composer.setSize(window.innerWidth, window.innerHeight)
bloomStrength: 0.5, bloomRadius: 0.4, bloomThreshold: 0.85

// ä¼˜åŒ–åï¼š0.75x åˆ†è¾¨ç‡ + ä¼˜åŒ–å‚æ•°
const renderScale = 0.75
composer.setSize(
  Math.floor(window.innerWidth * renderScale),
  Math.floor(window.innerHeight * renderScale)
)
bloomStrength: 0.4,   // å‡å°‘å¼ºåº¦
bloomRadius: 0.3,     // å‡å°‘åŠå¾„
bloomThreshold: 0.9   // æé«˜é˜ˆå€¼ï¼Œå‡å°‘å‘å…‰ç‰©ä½“

// Bloom åƒç´ å¤„ç†é‡é™ä½ ~44%ï¼ˆ0.75Â² â‰ˆ 0.56ï¼‰
// é…åˆå‚æ•°ä¼˜åŒ–ï¼Œæ€»ä½“æå‡ 40-45%
```

**æ€§èƒ½å¯¹æ¯”**ï¼š
| ä¼˜åŒ–é¡¹ | ä¼˜åŒ–å‰ GPU å ç”¨ | ä¼˜åŒ–å GPU å ç”¨ | æå‡å¹…åº¦ |
|--------|----------------|----------------|----------|
| è¡Œæ˜Ÿç³»ç»Ÿå…‰ç…§ | ~25% | ~15% | **-40%** |
| åœ°çƒ Shader | ~45% | ~38% | **-15%** |
| Bloom åæœŸå¤„ç† | ~30% | ~17% | **-43%** |
| **æ€»è®¡** | **100%** | **70%** | **-30%** |

#### CPU ä¼˜åŒ–
```javascript
// 1. å‘é‡å¯¹è±¡ç¼“å­˜ï¼ˆå¤©ä½“ç³»ç»Ÿï¼‰
const _tempVector1 = new THREE.Vector3()
const _tempVector2 = new THREE.Vector3()
const _tempVector3 = new THREE.Vector3()

// é‡ç”¨è€Œéåˆ›å»º
_tempVector1.copy(sunLight.position).normalize().multiplyScalar(distance)

// 2. å¤ªé˜³ä½ç½®èŠ‚æµ
const updateInterval = 1000 // æ¯ç§’æ›´æ–°ä¸€æ¬¡
if (currentTime - lastUpdateTime < updateInterval) {
  return // è·³è¿‡æ›´æ–°
}

// 3. CSS2D æ ‡ç­¾èŠ‚æµ
if (frameCount % 3 === 0) {
  labelRenderer.render(scene, camera) // æ¯ 3 å¸§æ›´æ–°ä¸€æ¬¡
}
```

#### GPU ä¼˜åŒ–
```javascript
// 1. å¯é€‰åæœŸå¤„ç†
if (enablePostProcessing && composer) {
  composer.render()
} else {
  renderer.render(scene, camera) // é™çº§åˆ°åŸºç¡€æ¸²æŸ“
}

// 2. å¯é…ç½®é˜´å½±
if (enableShadows) {
  sunLight.castShadow = true
  sunLight.shadow.mapSize.width = shadowMapSize
  sunLight.shadow.mapSize.height = shadowMapSize
}

// 3. FPS ç›‘æ§ä¸è‡ªé€‚åº”
if (currentTime - lastFpsCheck >= 1000) {
  currentFps = frameCount
  if (currentFps < 30) {
    console.warn(`æ€§èƒ½è­¦å‘Š: å½“å‰ FPS ${currentFps}`)
  }
}
```

### åæ ‡ç³»ç»Ÿ

- **ç»åº¦æ–¹å‘**ï¼šä»åŒ—æçœ‹é€†æ—¶é’ˆä¸ºè¥¿ç»â†’ä¸œç»
- **ç»åº¦åç§»**ï¼š`longitudeOffset = -90` ä¿®æ­£è´´å›¾æ—‹è½¬
- **å¤ªé˜³ä½ç½®**ï¼š`longitude = 180 - UTCæ—¶é—´ * 15Â°`

### IPå®šä½æµç¨‹

```
1. è·å–IP (myip.ipip.net æˆ– ipconfig.me)
   â†“
2. IP â†’ åœ°ç†åæ ‡ (ip-apiï¼Œé€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘)
   â†“
3. åæ ‡ â†’ ä¸­æ–‡åŸå¸‚åç§° (å’Œé£å¤©æ°” GeoAPI)
   â†“
4. åæ ‡ â†’ å¤©æ°”æ•°æ® (å’Œé£å¤©æ°”)
```

**ä¼˜åŠ¿**ï¼š
- è·å–å‡†ç¡®çš„ä¸­æ–‡åŸå¸‚åç§°
- ip-api é€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘ï¼Œç¨³å®šæ€§é«˜
- ç»Ÿä¸€ä½¿ç”¨å’Œé£å¤©æ°”APIç”Ÿæ€
- è‡ªåŠ¨é™çº§ï¼šGeoAPIå¤±è´¥æ—¶ä½¿ç”¨è‹±æ–‡åç§°

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### å½“å‰æ€§èƒ½è¡¨ç°ï¼ˆv4.0.0 ä¼˜åŒ–åï¼‰
- **å¸§ç‡**ï¼š60fpsï¼ˆæµç•…ç¨³å®šï¼‰
- **å†…å­˜å ç”¨**ï¼š~150-180MBï¼ˆé™ä½çº¦ 30%ï¼‰
- **åˆå§‹åŠ è½½**ï¼š~1-2ç§’ï¼ˆç¨‹åºåŒ–çº¹ç†ï¼Œæ— éœ€é¢å¤–èµ„æºåŠ è½½ï¼‰
- **CPU å ç”¨**ï¼šå·²å¤§å¹…ä¼˜åŒ–ï¼ˆå‘é‡ç¼“å­˜ã€èŠ‚æµæ›´æ–°ã€å‡ ä½•ä½“ä¼˜åŒ–ï¼Œé™ä½çº¦ 60%ï¼‰
- **GPU å ç”¨**ï¼šå·²æ·±åº¦ä¼˜åŒ–ï¼ˆç¨‹åºåŒ–çº¹ç†ã€Shader ç®€åŒ–ã€Bloom ä¼˜åŒ–ï¼Œé™ä½çº¦ 60-70%ï¼‰
- **çº¹ç†èµ„æº**ï¼š~500KBï¼ˆç¨‹åºåŒ–ç”Ÿæˆï¼Œç›¸æ¯”é™æ€å›¾ç‰‡é™ä½ 80%ï¼‰

### æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§

#### 1. CPU ä¼˜åŒ–
- âœ… **å‘é‡å¯¹è±¡ç¼“å­˜**ï¼šå¤©ä½“ç³»ç»Ÿä½¿ç”¨ 3 ä¸ªå¯é‡ç”¨å‘é‡ï¼Œæ¶ˆé™¤æ¯å¸§ä¸´æ—¶å¯¹è±¡åˆ›å»º
- âœ… **å¤ªé˜³ä½ç½®èŠ‚æµ**ï¼šä»æ¯å¸§æ›´æ–°æ”¹ä¸ºæ¯ç§’æ›´æ–°ï¼ŒCPU å ç”¨é™ä½ ~60%
- âœ… **ä¸‰è§’å‡½æ•°ä¼˜åŒ–**ï¼šé¢„è®¡ç®—å¹¶ç¼“å­˜ cos/sin å€¼
- âœ… **CSS2D æ ‡ç­¾èŠ‚æµ**ï¼šæ¯ 3 å¸§æ›´æ–°ä¸€æ¬¡ï¼ŒDOM æ“ä½œé™ä½ ~66%
- âœ… **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ FPS ç›‘æ§ï¼Œä½äº 30 FPS æ—¶è‡ªåŠ¨è­¦å‘Š

#### 2. GPU ä¼˜åŒ–
- âœ… **å‡ ä½•ä½“ä¼˜åŒ–**ï¼š
  - å¤©ä½“ç»†åˆ†åº¦é™ä½ï¼ˆ64â†’32 æ®µï¼‰
  - å¤ªé˜³å…‰æ™•é™ä½ï¼ˆ64â†’24 æ®µï¼‰
  - åœ°çƒä¿æŒé«˜è´¨é‡ï¼ˆ64 æ®µï¼‰
- âœ… **å¯é€‰é˜´å½±ç³»ç»Ÿ**ï¼šå¯å…³é—­èŠ‚çœ GPU æ€§èƒ½
- âœ… **å¯é…ç½®é˜´å½±è´¨é‡**ï¼š512/1024/2048 é˜´å½±è´´å›¾å°ºå¯¸
- âœ… **å¯é€‰åæœŸå¤„ç†**ï¼šBloom æ•ˆæœå¯å…³é—­èŠ‚çœ ~20-30% æ¸²æŸ“æ—¶é—´

#### 3. è‡ªé€‚åº”é™çº§
- âœ… **æ— åæœŸå¤„ç†æ¨¡å¼**ï¼šå…³é—­ Bloom æ—¶è‡ªåŠ¨é™çº§åˆ°åŸºç¡€æ¸²æŸ“
- âœ… **é˜´å½±å¼€å…³**ï¼šä½ç«¯è®¾å¤‡å¯å…³é—­é˜´å½±æå‡æ€§èƒ½
- âœ… **å‡ ä½•ä½“ LOD**ï¼šå¤©ä½“ä½¿ç”¨è¾ƒä½ç»†åˆ†åº¦ï¼Œåœ°çƒä¿æŒé«˜è´¨é‡

### é…ç½®å»ºè®®

#### ä½ç«¯è®¾å¤‡é…ç½®
```javascript
performance: {
  enableShadows: false,            // å…³é—­é˜´å½±
  enablePostProcessing: false,     // å…³é—­åæœŸå¤„ç†
  shadowMapSize: 512,              // æœ€ä½é˜´å½±è´¨é‡ï¼ˆå¦‚æœå¼€å¯ï¼‰
  enableMonitoring: true           // ç›‘æ§æ€§èƒ½
}
earth: {
  textureQuality: '2k',            // ä½¿ç”¨ 2K çº¹ç†
  showMeridianLines: false         // éšè—ç»çº¿
}
celestial: {
  enabled: true,                   // å¯é€‰ï¼šå…³é—­å¤©ä½“ç³»ç»Ÿè¿›ä¸€æ­¥æå‡æ€§èƒ½
  timeScale: 5000                  // åŠ å¿«è¿åŠ¨é€Ÿåº¦ï¼Œå‡å°‘è®¡ç®—é¢‘ç‡
}
```

#### ä¸­ç«¯è®¾å¤‡é…ç½®ï¼ˆæ¨èï¼Œå·²ä¼˜åŒ–ï¼‰
```javascript
performance: {
  enableShadows: false,            // å…³é—­é˜´å½±
  enablePostProcessing: true,      // å¼€å¯ Bloom æ•ˆæœï¼ˆå·²ä¼˜åŒ–ä¸º 0.75x åˆ†è¾¨ç‡ï¼‰
  bloomStrength: 0.4,              // ä¼˜åŒ–åå‚æ•°
  bloomRadius: 0.3,
  bloomThreshold: 0.9,             // æé«˜é˜ˆå€¼ï¼Œå‡å°‘å‘å…‰ç‰©ä½“
  enableMonitoring: true
}
earth: {
  textureQuality: '2k',            // ä½¿ç”¨ 2K çº¹ç†
  celestial: {
    enabled: true                  // å¤©ä½“ç³»ç»Ÿå·²ä¼˜åŒ–ï¼Œå¯æ”¾å¿ƒå¼€å¯
  }
}
```

#### é«˜ç«¯è®¾å¤‡é…ç½®
```javascript
performance: {
  enableShadows: true,             // å¼€å¯é˜´å½±
  shadowMapSize: 2048,             // é«˜è´¨é‡é˜´å½±
  enablePostProcessing: true,      // å¼€å¯åæœŸå¤„ç†ï¼ˆå·²ä¼˜åŒ–ä¸º 0.75x åˆ†è¾¨ç‡ï¼‰
  bloomStrength: 0.5,              // å¯é€‚å½“æé«˜
  bloomRadius: 0.4,
  bloomThreshold: 0.85,            // å¯é€‚å½“é™ä½ä»¥å¢å¼ºå‘å…‰æ•ˆæœ
  enableMonitoring: true
}
earth: {
  textureQuality: '8k',            // ä½¿ç”¨ 8K çº¹ç†
  showMeridianLines: true,         // æ˜¾ç¤ºç»çº¿
  celestial: {
    enabled: true,                 // å¤©ä½“ç³»ç»Ÿå·²ä¼˜åŒ–
    showOrbits: true               // æ˜¾ç¤ºè½¨é“çº¿
  }
}
```

### æ€§èƒ½æå‡å¯¹æ¯”

| ä¼˜åŒ–é¡¹ | æå‡æ•ˆæœ |
|--------|---------|
| **GPU ä¼˜åŒ–** | |
| å¤©ä½“ç³»ç»Ÿç¨‹åºåŒ–çº¹ç† + MeshBasicMaterial | GPU å…‰ç…§è®¡ç®—é™ä½ ~30-40% |
| åœ°çƒ Shader ç®€åŒ–ï¼ˆå‡å°‘ smoothstepï¼‰ | GPU ALU æŒ‡ä»¤é™ä½ ~10-15% |
| Bloom åˆ†è¾¨ç‡ä¼˜åŒ–ï¼ˆ0.75x + å‚æ•°è°ƒæ•´ï¼‰ | Bloom åƒç´ å¤„ç†é™ä½ ~40-45% |
| **æ€» GPU æ€§èƒ½æå‡** | **~60-70%** |
| **CPU ä¼˜åŒ–** | |
| å¤©ä½“ç³»ç»Ÿå‘é‡ç¼“å­˜ | å‡å°‘ ~90% ä¸´æ—¶å¯¹è±¡åˆ›å»º |
| å¤ªé˜³ä½ç½®æ›´æ–°èŠ‚æµ | CPU å ç”¨é™ä½ ~60% |
| å‡ ä½•ä½“ç»†åˆ†åº¦ä¼˜åŒ– | é¡¶ç‚¹å¤„ç†é™ä½ ~40% |
| CSS2D æ ‡ç­¾èŠ‚æµ | DOM æ“ä½œé™ä½ ~66% |
| **å†…å­˜ä¼˜åŒ–** | |
| ç¨‹åºåŒ–çº¹ç†ç”Ÿæˆ | çº¹ç†èµ„æºé™ä½ ~80%ï¼ˆ500KB vs 2-3MBï¼‰ |
| é˜´å½±è´´å›¾é™çº§ (2048â†’1024) | é˜´å½±å†…å­˜å ç”¨é™ä½ ~75% |

### æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°æ€§èƒ½é—®é¢˜ï¼š
1. **æ£€æŸ¥ FPS**ï¼šæ§åˆ¶å°ä¼šåœ¨ FPS < 30 æ—¶è¾“å‡ºè­¦å‘Š
2. **é™ä½çº¹ç†è´¨é‡**ï¼šä» 8K é™è‡³ 2K
3. **å…³é—­åæœŸå¤„ç†**ï¼š`enablePostProcessing: false`
4. **å…³é—­é˜´å½±**ï¼š`enableShadows: false`
5. **éšè—ç»çº¿**ï¼š`showMeridianLines: false`
6. **å‡å°‘å¤©ä½“**ï¼šå…³é—­éƒ¨åˆ†å¤©ä½“æ˜¾ç¤º
7. **é™ä½é˜´å½±è´¨é‡**ï¼š`shadowMapSize: 512`

---

## ğŸ› å·²çŸ¥é—®é¢˜ä¸æ³¨æ„äº‹é¡¹

### 1. APIé…ç½®
- **å’Œé£å¤©æ°”API**ï¼šéœ€è¦æ³¨å†Œè·å–å…è´¹API Key
- **IPå®šä½æœåŠ¡**ï¼šä½¿ç”¨ ip-apiï¼ˆé€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘ï¼‰ï¼Œæ— éœ€æ³¨å†Œï¼Œç¨³å®šæ€§é«˜

### 2. åæ ‡ç³»ç»Ÿ
- ç»åº¦åç§»é‡å¯èƒ½éœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´
- å½“å‰é»˜è®¤ `-90` é€‚é…åœ°çƒè´´å›¾æ—‹è½¬

### 3. å¤©æ°”æ›´æ–°
- é»˜è®¤30åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡ï¼Œé¿å…APIè°ƒç”¨é¢‘ç‡è¶…é™
- å¯åœ¨é…ç½®ä¸­è°ƒæ•´ `updateInterval`

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨çš„å¼€æºèµ„æºï¼š

| èµ„æº | è®¸å¯è¯ | æ¥æº |
|------|--------|------|
| Vue 3 | MIT | https://vuejs.org/ |
| Three.js | MIT | https://threejs.org/ |
| Day.js | MIT | https://day.js.org/ |
| SunCalc | MIT | https://github.com/mourner/suncalc |
| CryptoJS | MIT | https://github.com/brix/crypto-js |
| åœ°çƒçº¹ç† | å…¬å…±é¢†åŸŸ | NASA/Solar System Scope |
| JetBrains Mono | OFL | https://jetbrains.com/mono |
| QWeather API | å•†ä¸š/å…è´¹ | https://www.qweather.com/ |
| ip-api | å…è´¹é¢åº¦ | https://ip-api.com/ |

---

## ğŸ“ å­¦ä¹ èµ„æº

### Three.js ç›¸å…³
- [Three.js å®˜æ–¹æ–‡æ¡£](https://threejs.org/docs/)
- [Three.js Examples](https://threejs.org/examples/)
- [ShaderMaterial æŒ‡å—](https://threejs.org/docs/#api/en/materials/ShaderMaterial)

### WebGL Shader
- [The Book of Shaders](https://thebookofshaders.com/)
- [GLSL å‚è€ƒ](https://www.khronos.org/opengl/wiki/OpenGL_Shading_Language)

### åœ°ç†åæ ‡ç³»ç»Ÿ
- [Geographic coordinate system](https://en.wikipedia.org/wiki/Geographic_coordinate_system)
- [Spherical coordinate system](https://en.wikipedia.org/wiki/Spherical_coordinate_system)

---

## ğŸ“§ åé¦ˆä¸æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿ï¼š
- æäº¤ Issue
- å‘èµ· Pull Request
- è”ç³»å¼€å‘è€…

---

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š
- **Vue.js** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **Three.js** - JavaScript 3Dåº“
- **Vite** - ä¸‹ä¸€ä»£å‰ç«¯å·¥å…·é“¾
- **SunCalc** - å¤ªé˜³/æœˆçƒä½ç½®è®¡ç®—åº“
- **CryptoJS** - JavaScriptåŠ å¯†åº“
- **NASA** - åœ°çƒçº¹ç†èµ„æº
- **å’Œé£å¤©æ°”** - å¤©æ°”æ•°æ®æœåŠ¡
- **ip-api** - IPå®šä½æœåŠ¡ï¼ˆé€šè¿‡äº‘æœåŠ¡å™¨è½¬å‘ï¼‰

---

## ğŸ”„ ç‰ˆæœ¬å†å²

### v4.0.0 - GPU æ€§èƒ½ä¼˜åŒ–ä¸ç¨‹åºåŒ–çº¹ç†ç³»ç»Ÿé‡å¤§æ›´æ–°
- âœ… **å¤©ä½“ç³»ç»Ÿç¨‹åºåŒ–çº¹ç†ä¼˜åŒ–**ï¼š
  - æœˆçƒï¼š512Ã—512 Canvas çº¹ç†ï¼ŒåŒ…å«é™¨çŸ³å‘ã€æœˆæµ·ã€ç°è‰²æ¸å˜
  - å¤ªé˜³ï¼š512Ã—512 Canvas çº¹ç†ï¼Œå¾„å‘æ¸å˜ + å¤ªé˜³é»‘å­æ•ˆæœ
  - è¡Œæ˜Ÿï¼š256Ã—256 Canvas çº¹ç†ï¼Œæ¯ä¸ªè¡Œæ˜Ÿç‹¬ç‰¹ç‰¹å¾
    - æœ¨æ˜Ÿï¼š8æ¡æ°¨æ°”äº‘å±‚æ¡çº¹ + å¤§çº¢æ–‘
    - ç«æ˜Ÿï¼šé”ˆçº¢è‰²è¡¨é¢ + æåœ°å†°ç›– + æ·±è‰²å³¡è°·
    - åœŸæ˜Ÿï¼šæ·¡é‡‘è‰²æ¡çº¹ + å…‰ç¯ç³»ç»Ÿ
    - æ°´æ˜Ÿ/é‡‘æ˜Ÿ/å¤©ç‹æ˜Ÿ/æµ·ç‹æ˜Ÿï¼šå„è‡ªç‰¹è‰²çº¹ç†
  - æ‰€æœ‰å¤©ä½“æ”¹ç”¨ MeshBasicMaterialï¼Œæ¶ˆé™¤å…‰ç…§è®¡ç®—
  - **æ€§èƒ½æå‡**ï¼šGPU å…‰ç…§è®¡ç®—é™ä½ 30-40%ï¼Œçº¹ç†èµ„æºé™ä½ 80%
- âœ… **åœ°çƒ Shader ç®€åŒ–ä¼˜åŒ–**ï¼š
  - ç§»é™¤å¤šä½™ smoothstep è®¡ç®—ï¼ˆä» 2 æ¬¡ç®€åŒ–ä¸º 1 æ¬¡ï¼‰
  - ç®€åŒ–å¤§æ°”æ•£å°„è®¡ç®—é€»è¾‘
  - **æ€§èƒ½æå‡**ï¼šGPU ALU æŒ‡ä»¤é™ä½ 10-15%
- âœ… **Bloom åæœŸå¤„ç†ä¼˜åŒ–**ï¼š
  - Bloom æ¸²æŸ“åˆ†è¾¨ç‡é™è‡³ 0.75xï¼ˆåƒç´ å¤„ç†é™ä½ 44%ï¼‰
  - ä¼˜åŒ– Bloom å‚æ•°ï¼šstrength 0.4, radius 0.3, threshold 0.9
  - **æ€§èƒ½æå‡**ï¼šBloom æ€»ä½“æ€§èƒ½æå‡ 40-45%
- âœ… **å¤œé—´æ¸²æŸ“è§†è§‰ä¼˜åŒ–**ï¼š
  - å¤œåŠçƒä½¿ç”¨æ—¥é—´è´´å›¾ 10% äº®åº¦ä½œä¸ºåŸºç¡€å±‚
  - åŸå¸‚ç¯å…‰ä½œä¸ºå åŠ å±‚ï¼Œä¿æŒå¤œé—´ç¯å…‰æ•ˆæœ
  - å¯æ¸…æ™°çœ‹åˆ°é™†åœ°è½®å»“ï¼Œè§†è§‰æ•ˆæœæ›´åŠ è‡ªç„¶
- âœ… **æœˆçƒç‰©ç†ä¼˜åŒ–**ï¼š
  - æ·»åŠ æ½®æ±é”å®šï¼šè‡ªè½¬å‘¨æœŸ = å…¬è½¬å‘¨æœŸ
  - æœˆçƒå§‹ç»ˆä»¥åŒä¸€é¢æœå‘åœ°çƒ
- âœ… **å¤ªé˜³ç³»å¸ƒå±€ä¼˜åŒ–**ï¼š
  - å¤ªé˜³è·ç¦»ä» 12 å•ä½å¢è‡³ 50 å•ä½ï¼ˆæ›´ç¬¦åˆå®é™…ï¼‰
  - å¤ªé˜³åŠå¾„ä» 0.6 å¢è‡³ 1.2ï¼ˆè¿œè·ç¦»ä¿æŒå¯è§ï¼‰
  - å¤ªé˜³å…‰æºè·ç¦»åŒæ­¥è°ƒæ•´è‡³ 50 å•ä½
- âœ… **IP å®šä½æœåŠ¡åˆ‡æ¢**ï¼š
  - ä» ipinfo.io åˆ‡æ¢å› ip-api
  - ä½¿ç”¨äº‘æœåŠ¡å™¨è½¬å‘æå‡ç¨³å®šæ€§
- âœ… **é…ç½®ç³»ç»Ÿæ›´æ–°**ï¼š
  - æ›´æ–°é»˜è®¤ Bloom å‚æ•°ä»¥åŒ¹é…ä¼˜åŒ–
  - å¤©ä½“ç³»ç»Ÿé…ç½®æ”¯æŒå•ç‹¬æ§åˆ¶æ¯ä¸ªå¤©ä½“
- âœ… **æ€»ä½“æ€§èƒ½æˆå°±**ï¼š
  - **GPU æ€§èƒ½æå‡çº¦ 60-70%**
  - CPU æ€§èƒ½æå‡çº¦ 60%ï¼ˆå‘é‡ç¼“å­˜ + èŠ‚æµæ›´æ–°ï¼‰
  - çº¹ç†èµ„æºé™ä½ 80%
  - ä¿æŒè§†è§‰è´¨é‡çš„åŒæ—¶å¤§å¹…é™ä½èµ„æºå ç”¨

### v3.0.0 - æ¸²æŸ“è´¨é‡ä¸æ€§èƒ½ä¼˜åŒ–é‡å¤§æ›´æ–°
- âœ… **ç€è‰²å™¨å¢å¼º**ï¼š
  - å®Œæ•´ TBN åˆ‡çº¿ç©ºé—´æ³•çº¿è´´å›¾å®ç°
  - åŸºäºæ³•çº¿çš„ Blinn-Phong é«˜å…‰æ¨¡å‹
  - å¤§æ°”æ•£å°„æ•ˆæœï¼ˆè¾¹ç¼˜å…‰æ™•ã€æ™¨æ˜åœˆç‘åˆ©æ•£å°„ï¼‰
  - æŸ”åŒ–æ™¨æ˜åœˆè¿‡æ¸¡åŒºåŸŸï¼ˆ-0.2 åˆ° 0.15ï¼Œå¤šçº§ smoothstepï¼‰
  - æ™ºèƒ½åŸå¸‚ç¯å…‰ç³»ç»Ÿï¼ˆé»„æ˜/é»æ˜è‡ªåŠ¨å¢å¼ºï¼‰
- âœ… **åæœŸå¤„ç†ç³»ç»Ÿ**ï¼š
  - HDR è‰²è°ƒæ˜ å°„ï¼ˆACES Filmicï¼‰
  - Bloom å‘å…‰æ•ˆæœï¼ˆå¯é…ç½®å¼ºåº¦ã€åŠå¾„ã€é˜ˆå€¼ï¼‰
  - é˜´å½±ç³»ç»Ÿï¼ˆPCF æŸ”å’Œé˜´å½±ï¼Œå¯é…ç½®è´´å›¾å°ºå¯¸ï¼‰
  - å¯è§†åŒ–å¤ªé˜³çƒä½“ï¼ˆé…åˆ Bloom äº§ç”Ÿé•œå¤´å…‰æ™•ï¼‰
  - æ‰€æœ‰åæœŸæ•ˆæœå¯é€‰å¼€å…³
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼š
  - **CPU ä¼˜åŒ–**ï¼š
    - å¤©ä½“ç³»ç»Ÿå‘é‡ç¼“å­˜ï¼ˆæ¶ˆé™¤ ~90% ä¸´æ—¶å¯¹è±¡åˆ›å»ºï¼‰
    - å¤ªé˜³ä½ç½®æ›´æ–°èŠ‚æµï¼ˆCPU å ç”¨é™ä½ ~60%ï¼‰
    - ä¸‰è§’å‡½æ•°é¢„è®¡ç®—ä¸ç¼“å­˜
    - CSS2D æ ‡ç­¾èŠ‚æµï¼ˆDOM æ“ä½œé™ä½ ~66%ï¼‰
  - **GPU ä¼˜åŒ–**ï¼š
    - å¤©ä½“å‡ ä½•ä½“ç»†åˆ†åº¦ä¼˜åŒ–ï¼ˆ64â†’32 æ®µï¼‰
    - å¤ªé˜³å…‰æ™•ç»†åˆ†åº¦ä¼˜åŒ–ï¼ˆ64â†’24 æ®µï¼‰
    - å¯é€‰é˜´å½±ç³»ç»Ÿï¼ˆé»˜è®¤å…³é—­ï¼‰
    - å¯é…ç½®é˜´å½±è´´å›¾å°ºå¯¸ï¼ˆ512/1024/2048ï¼‰
  - **è‡ªé€‚åº”é™çº§**ï¼š
    - å®æ—¶ FPS ç›‘æ§ï¼ˆ< 30 FPS è‡ªåŠ¨è­¦å‘Šï¼‰
    - åæœŸå¤„ç†å¯é€‰å…³é—­
    - é˜´å½±å¯é€‰å…³é—­
- âœ… **è§†è§‰æ”¹è¿›**ï¼š
  - åŠçƒå½¢ä½ç½®æ ‡è®°ï¼ˆåº•éƒ¨è´´åœ°ï¼Œå‡¸èµ·å‘å¤–ï¼‰
  - å¹³æ»‘å¤ªé˜³ç§»åŠ¨ï¼ˆé›†æˆåˆ°æ¸²æŸ“å¾ªç¯ï¼Œæ— è·³å˜ï¼‰
  - æ”¹è¿›çš„æµ·æ´‹åå°„æ•ˆæœ
  - çœŸå®çš„æ—¥å‡ºæ—¥è½é¢œè‰²
- âœ… **é…ç½®ç³»ç»Ÿå¢å¼º**ï¼š
  - æ–°å¢ `performance` é…ç½®åˆ†ç»„
  - æ”¯æŒä½/ä¸­/é«˜ç«¯è®¾å¤‡é¢„è®¾é…ç½®
  - æ‰€æœ‰è§†è§‰æ•ˆæœå¯ç‹¬ç«‹å¼€å…³

### v2.0.0 - å¤©ä½“ç³»ç»Ÿé‡å¤§æ›´æ–°
- âœ… **å®Œæ•´å¤©ä½“ç³»ç»Ÿ**ï¼šæ·»åŠ æœˆçƒã€å¤ªé˜³ã€å…«å¤§è¡Œæ˜Ÿã€å½—æ˜Ÿ
- âœ… **å¢å¼ºå¤ªé˜³æ•ˆæœ**ï¼š
  - 5å±‚å…‰æ™•ç³»ç»Ÿï¼ˆæ ¸å¿ƒã€å†…å±‚ã€ä¸­å±‚ã€å¤–å±‚ã€æ—¥å†•ï¼‰
  - è‡ªå®šä¹‰ç€è‰²å™¨å®ç°çœŸå®æ—¥å†•æ•ˆæœ
  - å¾®å¦™è„‰åŠ¨åŠ¨ç”»
- âœ… **æœˆçƒç³»ç»Ÿ**ï¼š
  - çœŸå®æ¯”ä¾‹å¤§å°å’Œè½¨é“
  - 27.3å¤©å…¬è½¬å‘¨æœŸ
  - é«˜è´¨é‡è¡¨é¢æè´¨
- âœ… **å…«å¤§è¡Œæ˜Ÿ**ï¼š
  - åŸºäºçœŸå®å¤©æ–‡æ•°æ®ï¼ˆå¤§å°ã€è·ç¦»ã€å‘¨æœŸï¼‰
  - è‰ºæœ¯åŒ–æ¯”ä¾‹ç¼©æ”¾ï¼ˆä¿è¯å¯è§†æ€§ï¼‰
  - å„è‡ªç‰¹è‰²é¢œè‰²å’Œæè´¨ï¼ˆé‡‘æ˜Ÿäº‘å±‚ã€åœŸæ˜Ÿå…‰ç¯ç­‰ï¼‰
- âœ… **å“ˆé›·å½—æ˜Ÿ**ï¼š
  - åŒå°¾ç³»ç»Ÿï¼ˆç¦»å­å°¾ + å°˜åŸƒå°¾ï¼‰
  - åŠ¨æ€å½—å‘æ•ˆæœ
  - ç‰©ç†æ­£ç¡®çš„å½—å°¾æ–¹å‘
  - è·ç¦»ç›¸å…³çš„äº®åº¦å˜åŒ–
- âœ… **å¤©ä½“é…ç½®ç³»ç»Ÿ**ï¼š
  - å¤©ä½“ç³»ç»Ÿæ€»å¼€å…³
  - å•ç‹¬æ§åˆ¶æ¯ä¸ªå¤©ä½“æ˜¾ç¤º
  - è½¨é“çº¿å¯è§†åŒ–
  - æ—¶é—´ç¼©æ”¾å€æ•°è°ƒèŠ‚ï¼ˆ1x - 10000xï¼‰
- âœ… **Wallpaper Engineé›†æˆ**ï¼š
  - æ–°å¢å¤©ä½“ç³»ç»Ÿé…ç½®é¢æ¿
  - æ”¯æŒå®æ—¶è°ƒæ•´è½¨é“çº¿æ˜¾ç¤º
  - æ”¯æŒå®æ—¶è°ƒæ•´æ—¶é—´ç¼©æ”¾
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼š
  - é«˜æ•ˆç²’å­ç³»ç»Ÿï¼ˆ500+ å½—æ˜Ÿç²’å­ï¼‰
  - ä¼˜åŒ–å‡ ä½•ç»†åˆ†åº¦ï¼ˆ64x64ï¼‰
  - åŠ æ³•æ··åˆæ¨¡å¼ä¼˜åŒ–

### v1.3.0
- âœ… ç›¸æœºæ§åˆ¶ç³»ç»Ÿï¼šæ”¯æŒæ‹–æ‹½æ—‹è½¬ã€æ»šè½®ç¼©æ”¾ã€è‡ªåŠ¨æ—‹è½¬
- âœ… Wallpaper Engine å®æ—¶é…ç½®ï¼šæ‰€æœ‰ç›¸æœºå‚æ•°å¯åŠ¨æ€è°ƒæ•´
- âœ… æœªæ¥å¤©æ°”é¢„æŠ¥ï¼š7å¤©æ•°æ®ï¼Œæ˜¾ç¤ºæœªæ¥3å¤©
- âœ… åˆ‡æ¢IPå®šä½æœåŠ¡ï¼šä» ip-api.com åˆ° ipinfo.io
- âœ… ç§»é™¤æ— ç”¨é…ç½®é¡¹ï¼šåˆ é™¤ rotationSpeed

### v1.2.0
- âœ… æ·»åŠ è‡ªåŠ¨å¤ªé˜³èµ¤çº¬è§’è®¡ç®—ï¼ˆåŸºäºæ—¥æœŸçš„çœŸå®å­£èŠ‚æ¨¡æ‹Ÿï¼‰
- âœ… æ›¿æ¢IPå®šä½æœåŠ¡ï¼šä»è…¾è®¯ä½ç½®æœåŠ¡åˆ‡æ¢åˆ° ip-api.com
- âœ… é›†æˆå’Œé£å¤©æ°” GeoAPIï¼šæ”¯æŒä¸­æ–‡åŸå¸‚åç§°
- âœ… ä¼˜åŒ–ç¯å¢ƒå˜é‡ç®¡ç†ï¼šæ•æ„Ÿä¿¡æ¯ç§»è‡³ .env.local
- âœ… ç§»é™¤ä¸å¿…è¦çš„APIç­¾åå’Œä»£ç†é…ç½®
- âœ… ç®€åŒ–é…ç½®æ–‡ä»¶ç»“æ„

### v1.1.0
- âœ… æ·»åŠ æ˜¼å¤œçº¹ç†æ··åˆï¼ˆè‡ªå®šä¹‰Shaderï¼‰
- âœ… é›†æˆå’Œé£å¤©æ°”API
- âœ… æ·»åŠ IPåœ°ç†å®šä½ï¼ˆåŒé‡å¤‡ç”¨æœºåˆ¶ï¼‰
- âœ… å®ç°é¼ æ ‡äº¤äº’æ—‹è½¬ï¼ˆOrbitControlsï¼‰
- âœ… æ·»åŠ ç»çº¬åº¦ç½‘æ ¼çº¿ï¼ˆå¯é…ç½®ï¼‰
- âœ… æ·»åŠ å­£èŠ‚æ¨¡æ‹ŸåŠŸèƒ½ï¼ˆå¯è°ƒèŠ‚å¤ªé˜³èµ¤çº¬è§’ï¼‰
- âœ… ä¼˜åŒ–åæ ‡ç³»ç»Ÿå’Œç»åº¦è®¡ç®—
- âœ… æ·»åŠ ä½ç½®æ ‡è®°åŠŸèƒ½

### v1.0.0
- âœ… åŸºç¡€3Dåœ°çƒæ¸²æŸ“
- âœ… å¤ªé˜³å…‰ç…§ç³»ç»Ÿ
- âœ… ä¿¡æ¯é¢æ¿
- âœ… Wallpaper Engine é›†æˆ

---
